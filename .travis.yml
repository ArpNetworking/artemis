sudo: false
cache:
  directories:
  - "$HOME/.ivy2"
  - "$HOME/.jdk"
install: true
before_script:
- gpg --import groupon-api.key
script:
- curl -s ${JDKW} | bash /dev/stdin ./activator clean compile checkstyle findbugs test stage
- if [ \( -n "${TRAVIS_TAG}" \) -a  "${TRAVIS_PULL_REQUEST}" = "false" ]; then curl -s ${JDKW} | bash /dev/stdin ./activator publishSigned sonatypeRelease; fi;
env:
  global:
  - JDKW=https://raw.githubusercontent.com/vjkoskela/jdk-wrapper/master/jdk-wrapper.sh
  - JDKW_VERSION=8u65
  - JDKW_BUILD=b17
  - secure: tsVLcMZ4N2vw9myV99ytZWhuifI2T18VSOMeDy0/hJdRt3WBlyM4abv3eWCLzeVaHmaezA1YXXvkeh7ly99UrK4cFtjk7rkDLdk1XYkvTqMmSs1HeH1QtVgIKwk3eZzKV16AhuoZWvIj+qKFcxBr1ONjpKS0G0+Zx/OI356I0NEhm3PJiQjGiUdgIjREa9uyuZV+5caax5poqPJ4evEE0+g6WT+/UswOBd0IqlraPB/7aE1v4zpdqGdvAZxH+RsovQ6GHkFVX3T/bCL+R7bjdav4Emoh1cl4WcrleZw7r0CAhDWslwaLqeLkzgaz4KJDxSfQG7rbbFo4DrcCN7Ds/NiiwTqlVcMbkMWoRRvjKsEe3Xg8XAChnJCaXDJj4pEWKdSXaUesm87tLmvEn7ILz8lBcgm4bl6GxswHndwBk3ej+aDlMknJhwuvd+pRzWZO9S/W4D6/ATxSS5hnCxR2YzzWXZSEWJ6Xin15ElyfsW9QZv1TNhBYVjvX1TNuNUQDPZf4R/EEre/EQVWEvKVvDIGTdAS3qSvwEe4rN9AIxbXh3q89Bk3/8EVJSTtx2okWh9msIMwfvDIFW2dQ2KCYCNA8ZhBC+1qVsP7qQSBIoc+Z26hLzb/OZfBb7PSuK8NqiJtfZezCVGjk2VIxoKmOclZ/Hafh4BOS2am+m1w0O6c=
  - secure: ZIhOdQKKMrUqQf/7T5ZHyablc03U5C2+m1u3tT7DnT4ogWQqAXdjypyaBVIb3PViZOulvN5VzkPlf1XqZvp480uVnP0aoHlayDQIKR5/JJmXdx9NJ6kKC1YCk/+IrmgwLuTAnuQDYdm9bDqkoTmEI/1YoWz41LscrbD3LNXmYbAik4Kptf5PropyX1Ooyv39+eC8AZjUEArUfKtE3DRgYyyIPaF6tfUBfa137+B0KCy4zjFNF+mcYXxfWGDDlQtsu9DQz7TdsdY0XrsFr9o3NDxPXuH5Jz7wSGSPqFt73eHuLBY6TqBdX7mQ7mVtcT2/wk1qvBI8/tREM3X+xNw5CDmKE4Ru3W0gwuUUDy2fi9mKZhlnPAmvKebY90N1gsNMkYMV6QJGbSqqScsG1/wSFZxPONupqXP3FnfFsChRfHNk5ERX7d0Xh1DLPqScbx6gJWEK31Yh1GTW/cc91rEKEjd+fMYYID4KdE2UCTCA+mxxMrTDZ92wC7NDn2ASjUDih0tWQ2za3cS8WP7rrUZZUTWdNegRri302bgvdfnbe3DCWWd67CDX/lT8kksKJ0QcHHvnDIGjcomA9dcB8jToXXG0ZpQSel7AuO+0mgvkfTYKG6tJT9WlnGxhCTydTcR6uGmDef3XouwbEWGrb+61a4IfykwrGjAi1wUmEXgmRV8=
  - secure: GW9wgbpE+ReLEA1vJJA8H8+8DwVpmAfvYVMo+v57IVW530IxfwaS8Vg8rQNvZPpGWeRHCh1Gtft8twyV1QVhP6Ud90I1P9S9Lx5117WHa1EenNLP8e2fCGpzsJW++cO/UPG85YahJdbVUkK5ZS0UJq3MsI8IdXxuhnStBU+mBmNQJYwTwaeW9AIdPMAYApQ2Ze10/K+QNaE+R8QKTNQ+a9T7Ezu1lQBXyeNSR8WKqLAckRS8UJIs8uDHn+12PfQvLZ8o+l62I96Z8WNZBrQ5zBMEW+tCE+qpGXoc3Zt+RksQ+ckZ2Ql1SZl6UrwtvpqASAan1w+NKT+GImtygpIuwFtjUQdM5j+Uce/KC8O1vlO+oycjiRfomeJ6J3tRlt7ZnF4myREkLSZJJVnnaAJ6Ol+0Yo5uoWhqFC/nd+Xuzacid44vyK9IOkxBjS54BhtrKq3OJxZ0o4wnylaD0WoNEqZtWkaFJhi0Hd3JpTw3BgbvFY90anEJscuD8veTKDkNPZTS9hMYJXTMA9MSTIeABWvU1Px6Ky9ImeKM2KsEIGUjuKedYirabkp+yz5kElI1lnf37ntnPrJqA1wpt+9qLGpuNIaU39rsH/B1LJi5eeYvawZ/oXmUXi99Ps2l9o73uKDOar+DwQEJOYL2ga3W/hvbMUAtPC7xy4J25HU9hDE=
